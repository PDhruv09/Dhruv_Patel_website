<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" content="How I mapped transit deserts in San Diego, fought with GTFS data, and learned that visualization is about context, not just colors." />
    <meta name="theme-color" content="#faf8f5">
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">
    
    <link rel="stylesheet" href="assets/css/blogs_style.css"/>
    <title>Optimizing Transit in San Diego: My Map, My Mistakes – Dhruv Patel</title>
</head>
<body>
    <main class="page">
        <article class="post" data-permalink-context="/Blogs/transit-optimization-story.html">
            <header class="post-head">
                <p class="post-meta">April 20, 2025 • 9 min read</p>
                <h1 id="title">Optimizing Transit in San Diego: My Map, My Mistakes</h1>
            </header>

            <section class="post-body">
                <p>What began as a weekend curiosity—<em>"Why does my bus take so long?"</em>—turned into a deep exploration of how data, geography, and human behavior intersect. I never expected a simple question would lead me down a rabbit hole of GTFS feeds, census tracts, and spatial algorithms.</p>

                <h2 id="motivation">The Question That Started It All</h2>
                <p>Every morning I'd watch buses arrive half-empty while others left passengers waiting. It seemed random—but I wanted to know if the data agreed. Could I map out whether the system itself was unbalanced, or if the patterns I saw were just coincidences?</p>
                
                <p>That question pushed me to collect publicly available <strong>GTFS (General Transit Feed Specification)</strong> data from San Diego's Metropolitan Transit System. At the same time, I wanted to merge it with demographic data from the U.S. Census to highlight regions underserved by transit.</p>
                
                <p>My goal wasn't just to visualize routes—it was to reveal where infrastructure decisions failed to meet community needs.</p>

                <h2 id="data">The Data Hunt: Harder Than Expected</h2>
                <p>When I started searching for datasets, I quickly realized finding the right sources would be one of the toughest parts. I needed two main components: <strong>GTFS data</strong> for routes and stops, and <strong>U.S. Census</strong> demographic data to analyze population distribution.</p>
                
                <p>I began with the <a href="https://www.data.census.gov/" target="_blank" rel="noopener">U.S. Census Bureau</a> website, focusing on San Diego County. I was immediately greeted by a maze of what the Census Bureau calls "profiles." At first, the structure was confusing—I wasn't sure whether "profiles" meant summary tables, shapefiles, or something else entirely.</p>
                
                <p>After trial and error, I realized each profile corresponds to a different dataset type—population, housing, economic—and that I needed to extract the <em>geospatial</em> component for mapping. But each was stored separately, which meant I'd have to merge multiple datasets just to get a complete demographic picture.</p>
                
                <p>While researching how to join them properly, I discovered the <a href="https://geo.sandag.org/portal/apps/experiencebuilder/experience/?id=fad9e9c038c84f799b5378e4cc3ed068&page=Home#data_s=id%3AdataSource_1-0%3A227" target="_blank" rel="noopener">San Diego Regional Data Warehouse</a>, which had already done this work. Their portal provided a unified dataset containing the demographic and geographic variables I needed—saving me hours of manual merging.</p>
                
                <figure>
                    <img src="/Images/San_Diego_transit/Data_DashBoard.png" alt="Screenshot of San Diego Regional Data Warehouse dashboard" loading="lazy">
                    <figcaption>The San Diego Regional Data Warehouse dashboard where I accessed GTFS and demographic layers.</figcaption>
                </figure>
                
                <p>The Data Warehouse also hosted GTFS data for both <strong>MTS (Metropolitan Transit System)</strong> and <strong>NCTD (North County Transit District)</strong>. Instead of downloading from each agency separately, the warehouse provided a combined feed—an enormous time saver.</p>
                
                <p>But downloading the data was the easy part. The real challenge came afterward: understanding the structure, validating attributes, and cleaning inconsistencies. Even "perfect" datasets require work to become trustworthy.</p>

                <h2 id="process">Process & Stuck Points</h2>
                <p>I started by cleaning and parsing GTFS files—something I thought would take a few hours. It didn't. Timezones, inconsistent stop names, and malformed shapes turned what looked like simple CSVs into a puzzle of missing links. I learned that even public data can be messy, and that "scheduled" routes rarely align perfectly with reality.</p>
                
                <p>When I tried overlaying transit stops onto census tracts in <strong>GeoPandas</strong>, my coordinate reference systems didn't match—the map looked completely warped. I remember staring at a map of San Diego that looked like a melted coastline until I finally learned how to project both datasets into <code>EPSG:4326</code>.</p>
                
                <p>Another frustration came with computing accessibility metrics. I wanted to quantify how far residents in each tract were from the nearest transit stop, but with tens of thousands of points, the computation was painfully slow. I experimented with spatial indexing using <code>rtree</code> and <code>shapely</code>—a small change that made the analysis run in minutes instead of hours.</p>

                <h2 id="breakthroughs">Breakthroughs</h2>
                <p>The turning point came when I combined all the cleaned layers—routes, stops, census tracts, bikeways, and roads—into a single interactive map using <strong>Folium</strong> and later <strong>ArcGIS Online</strong>. For the first time, I could visually see <strong>"transit deserts"</strong>—regions of San Diego County with dense populations but poor coverage.</p>
                
                <p>The map didn't just show buses and trains; it showed <em>inequality</em>.</p>
                
                <p>That realization made the work feel personal. It wasn't about pretty maps anymore—it was about accessibility. I started experimenting with <strong>networkx</strong> to simulate optimized routes between transit stops, trying to see whether shorter, better-connected paths could close some of the coverage gaps.</p>
                
                <p>Even though my optimization model was simple, the results were exciting: small reroutes could significantly reduce travel distance for underserved tracts.</p>
                
                <p>I also published the final interactive map on ArcGIS Online, allowing anyone—not just data scientists—to explore it. Watching classmates and friends click around the map and ask questions made me realize that data storytelling is most powerful when it invites curiosity.</p>
                
                <iframe 
                    src="https://ucsdonline.maps.arcgis.com/apps/webappviewer/index.html?id=6ab51c5b08f04c8ba16018184200f1bc" 
                    title="San Diego Transit Accessibility Map"
                    allowfullscreen
                    loading="lazy"></iframe>

                <h2 id="reflections">Reflections</h2>
                <p>This project changed the way I approach data. Before, I thought analysis ended with a clean dataset or a strong model. Now, I see it as a continuous loop of questioning, cleaning, visualizing, and interpreting.</p>
                
                <p>The hardest parts—mismatched coordinates, slow algorithms, and messy metadata—taught me the most.</p>
                
                <p>If I were to revisit the project, I'd integrate real-time data streams to compare scheduled versus actual bus timings. I'd also add accessibility metrics for different modes of transport, like biking or walking. But most of all, I'd spend more time on the <em>story</em>—because numbers alone don't convince people to change systems; stories do.</p>
                
                <p>What started as curiosity about my morning bus became a lesson in the power of spatial data, patience, and perspective. It reminded me that sometimes, the best projects aren't about proving something—they're about learning why something matters.</p>

                <aside class="post-cta">
                    <a class="btn" href="https://pdhruv09.github.io/DSC_170_GIS_SanDiego_Transit_Map/" target="_blank" rel="noopener">View the Interactive Map</a>
                    <a class="btn secondary" href="../projects/index.html">See All Projects</a>
                </aside>
            </section>
            
            <p style="margin-top: 3rem;"><a href="./index.html">← Back to Blog</a></p>
        </article>
    </main>

    <footer id="footer" role="contentinfo">
        <section id="contact" class="left">
            <h4>Contact Information</h4>
            <p><strong>Personal Email:</strong> <a href="mailto:dhruvkpatel004@gmail.com">dhruvkpatel004@gmail.com</a></p>
            <p><strong>Work Email:</strong> <a href="mailto:dhruv.patel.imp@gmail.com">dhruv.patel.imp@gmail.com</a></p>
            <p><strong>Phone:</strong> <a href="tel:+17472577194">+1 (747) 257-7194</a></p>
        </section>
        
        <section id="social" class="right">
            <h4>Connect With Me</h4>
            <p><a href="https://www.linkedin.com/in/dhruv-patel-40b923228" target="_blank" rel="noopener noreferrer">LinkedIn</a></p>
            <p><a href="https://github.com/PDhruv09" target="_blank" rel="noopener noreferrer">GitHub</a></p>
            <p><a href="https://www.instagram.com/dhruvkpatel004" target="_blank" rel="noopener noreferrer">Instagram</a></p>
        </section>
    </footer>

    <script type="module" src="../global.js"></script>
</body>
</html>
